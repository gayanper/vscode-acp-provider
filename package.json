{
  "name": "vscode-acp-client",
  "displayName": "VS Code ACP Client",
  "description": "Chat sessions backed by Agent Client Protocol (ACP) agents and CLIs",
  "version": "0.1.0",
  "publisher": "org-gap",
  "repository": {
    "url": "https://github.com/gayanper/vscode-acp-provider.git"
  },
  "engines": {
    "vscode": "^1.108.0"
  },
  "type": "commonjs",
  "categories": [
    "AI",
    "Chat"
  ],
  "keywords": [
    "acp",
    "agent-client-protocol",
    "gemini",
    "chat-sessions",
    "ai"
  ],
  "activationEvents": [
    "onStartupFinished",
    "onLanguageModelChat:copilot",
    "onUri",
    "onFileSystem:ccreq",
    "onFileSystem:ccsettings",
    "onCustomAgentsProvider"
  ],
  "main": "./out/extension.js",
  "enabledApiProposals": [
    "chatSessionsProvider",
    "chatParticipantPrivate",
    "chatParticipantAdditions"
  ],
  "contributes": {
    "chatSessions": [
      {
        "name": "opencode",
        "type": "acp-opencode",
        "canDelegate": true,
        "displayName": "OpenCode Agent [ACP]",
        "description": "Chat sessions backed by the OpenCode ACP agent",
        "icon": "$(hubot)",
        "when": "config.acpClient.agents.opencode.enabled",
        "commands": [
          {
            "name": "undo",
            "description": "Undo the changes"
          },
          {
            "name": "redo",
            "description": "Redo the changes"
          },
          {
            "name": "compact",
            "description": "Compact the current session"
          }
        ]
      },
      {
        "name": "codex",
        "type": "acp-codex",
        "canDelegate": true,
        "displayName": "Codex Agent [ACP]",
        "description": "Chat sessions backed by the Codex ACP agent",
        "icon": "$(hubot)",
        "when": "config.acpClient.agents.codex.enabled"
      },
      {
        "name": "cagent",
        "type": "acp-cagent",
        "canDelegate": true,
        "displayName": "Cagent Agent [ACP]",
        "description": "Chat sessions backed by the Cagent ACP agent",
        "icon": "$(hubot)",
        "when": "config.acpClient.agents.cagent.enabled"
      },
      {
        "name": "geminicli",
        "type": "acp-geminicli",
        "canDelegate": true,
        "displayName": "Gemini CLI Agent [ACP]",
        "description": "Chat sessions backed by the Gemini CLI ACP agent",
        "icon": "$(hubot)",
        "when": "config.acpClient.agents.geminicli.enabled"
      }
    ],
    "configuration": {
      "title": "VS Code ACP Client",
      "properties": {
        "acpClient.agents": {
          "type": "object",
          "propertyNames": {
            "enum": [
              "opencode",
              "codex",
              "cagent",
              "geminicli"
            ]
          },
          "additionalProperties": {
            "type": "object",
            "required": [
              "command"
            ],
            "properties": {
              "label": {
                "type": "string",
                "description": "Display label shown in the chat UI"
              },
              "command": {
                "type": "string",
                "description": "Executable that starts the ACP-compatible CLI"
              },
              "args": {
                "type": "array",
                "items": {
                  "type": "string"
                },
                "description": "Optional arguments passed to the CLI"
              },
              "cwd": {
                "type": "string",
                "description": "Working directory for the process"
              },
              "env": {
                "type": "object",
                "additionalProperties": {
                  "type": "string"
                },
                "description": "Environment variables merged with the VS Code shell"
              },
              "mcpServers": {
                "type": "array",
                "description": "Optional list of MCP servers this agent should connect to when sessions start",
                "items": {
                  "type": "object",
                  "required": [
                    "type",
                    "name",
                    "command"
                  ],
                  "properties": {
                    "type": {
                      "const": "stdio",
                      "description": "Connect to an MCP server over stdio"
                    },
                    "name": {
                      "type": "string",
                      "description": "Display name for the MCP server"
                    },
                    "command": {
                      "type": "string",
                      "description": "Executable that launches the MCP server"
                    },
                    "args": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      },
                      "description": "Arguments passed to the MCP server executable"
                    },
                    "env": {
                      "type": "object",
                      "additionalProperties": {
                        "type": "string"
                      },
                      "description": "Environment variables applied when starting the MCP server"
                    }
                  }
                }
              },
              "enabled": {
                "type": "boolean",
                "default": true,
                "description": "Whether this agent should be surfaced in chat"
              }
            }
          },
          "description": "List of ACP agents to use with their command and arguments",
          "default": {
            "cagent": {
              "label": "Cagent",
              "command": "/opt/homebrew/bin/cagent",
              "args": [
                "acp",
                "/path/to/your/agents/cagent.yaml"
              ],
              "mcpServers": [
                {
                  "type": "stdio",
                  "name": "my-stdio-tooling",
                  "command": "/opt/homebrew/bin/my-mcp",
                  "args": [
                    "serve"
                  ]
                }
              ],
              "enabled": false
            }
          }
        }
      }
    },
    "commands": [
      {
        "command": "acp.clearSessions",
        "title": "ACP: Delete all sessions"
      }
    ]
  },
  "scripts": {
    "clean": "bun -e \"require('fs').rmSync('./out', { recursive: true, force: true })\"",
    "typecheck": "bunx tsc -p ./ --noEmit",
    "compile": "bun run typecheck && bunx esbuild src/extension.ts --bundle --outfile=out/extension.js --external:vscode --format=cjs --platform=node --sourcemap --minify",
    "watch": "bunx esbuild src/extension.ts --bundle --outfile=out/extension.js --external:vscode --format=cjs --platform=node --sourcemap --watch",
    "pretest": "bun run compile",
    "lint": "bunx prettier . --check",
    "format": "bunx prettier . --write",
    "package": "bun run clean && bun run compile && bunx vsce package --no-dependencies --skip-license",
    "install-dts": "bunx @vscode/dts dev"
  },
  "devDependencies": {
    "@types/node": "^25.0.1",
    "@types/vscode": "^1.107.0",
    "@vscode/vsce": "^3.7.1",
    "esbuild": "^0.27.1",
    "prettier": "3.7.4",
    "typescript": "^5.9.3"
  },
  "author": "",
  "license": "MIT",
  "dependencies": {
    "@agentclientprotocol/sdk": "^0.12.0"
  },
  "trustedDependencies": [
    "@vscode/vsce-sign"
  ]
}